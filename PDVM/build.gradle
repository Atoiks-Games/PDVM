apply plugin: 'java'
apply plugin: 'antlr'
apply plugin: 'application'

mainClassName = 'org.atoiks.games.pdvm.App'

sourceCompatibility = '1.8'
targetCompatibility = '1.8'

repositories {
    jcenter()
}

dependencies {
    antlr 'org.antlr:antlr4:4.7.1'
    compile project(':Framework2D')
}

generateGrammarSource {
    arguments += ['-package', 'org.atoiks.games.pdvm.grammar']
}

task copyLicense {
    outputs.file new File("$buildDir/LICENSE")
    outputs.file new File("$buildDir/COPYING")
    outputs.file new File("$buildDir/README.md")
    doLast {
        copy {
            from "../LICENSE"
            into "$buildDir"
        }
        copy {
            from "../COPYING"
            into "$buildDir"
        }
        copy {
            from "../README.md"
            into "$buildDir"
        }
    }
}

applicationDistribution.from(copyLicense) {
    into ""
}